<script>
function generate_id(){
    var idStrLen = 32;
    var idStr = (Math.floor((Math.random() * 25)) + 10).toString(36) + "_";
    idStr += (new Date()).getTime().toString(36) + "_";
    do {
        idStr += (Math.floor((Math.random() * 35))).toString(36);
    } while (idStr.length < idStrLen);

    return (idStr);
}
function download(filename, text) {
  var _name_=generate_id()
  var element = document.createElement(_name_);
  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
  element.setAttribute('download', filename);
  element.style.display = 'none';
  document.body.appendChild(element);
  element.click();
  document.body.removeChild(element);
}

/*
Code was taken from
https://ourcodeworld.com/articles/read/189/how-to-create-a-file-and-generate-a-download-with-javascript-in-the-browser-without-a-server
*/

var queryString = window.location.search;
var GetURLPARAMS = new URLSearchParams(queryString);
var name = GetURLPARAMS.get('name')
var content = GetURLPARAMS.get('content')
if (name != null){
  if (content != null){
    download(name, content)
  }
}
</script>
